portrait ={
["Bulbasaur"] = 7593,
["Ivysaur"] = 7594,
["Venusaur"] = 7595,
["Charmander"] = 7596,
["Charmeleon"] = 7597,
["Charizard"] = 7598,
["Squirtle"] = 7599,
["Wartortle"] = 7600,
["Blastoise"] = 7601,
["Caterpie"] = 7602,
["Metapod"] = 7603,
["Butterfree"] = 7604,
["Weedle"] = 7605,
["Kakuna"] = 7606,
["Beedrill"] = 7607,
["Pidgey"] = 7608,
["Pidgeotto"] = 7609,
["Pidgeot"] = 7610,
["Rattata"] = 7611,
["Raticate"] = 7612,
["Spearow"] = 7613,
["Fearow"] = 7614,
["Ekans"] = 7615,
["Arbok"] = 7616,
["Pikachu"] = 7617,
["Raichu"] = 7618,
["Sandshrew"] = 7619,
["Sandslash"] = 7620,
["Nidoran Female"] = 7621,
["Nidorina"] = 7622,
["Nidoqueen"] = 7623,
["Nidoran Male"] = 7624,
["Nidorino"] = 7625,
["Nidoking"] = 7626,
["Clefairy"] = 7627,
["Clefable"] = 7628,
["Vulpix"] = 7629,
["Ninetales"] = 7630,
["Jigglypuff"] = 7631,
["Wigglytuff"] = 7632,
["Zubat"] = 7633,
["Golbat"] = 7634,
["Oddish"] = 7635,
["Gloom"] = 7636,
["Vileplume"] = 7637,
["Paras"] = 7638,
["Parasect"] = 7639,
["Venonat"] = 7640,
["Venomoth"] = 7641,
["Diglett"] = 7642,
["Dugtrio"] = 7643,
["Meowth"] = 7644,
["Persian"] = 7645,
["Psyduck"] = 7646,
["Golduck"] = 7647,
["Mankey"] = 7648,
["Primeape"] = 7649,
["Growlithe"] = 7650,
["Arcanine"] = 7651,
["Poliwag"] = 7652,
["Poliwhirl"] = 7653,
["Poliwrath"] = 7654,
["Abra"] = 7655,
["Kadabra"] = 7656,
["Alakazam"] = 7657,
["Machop"] = 7658,
["Machoke"] = 7659,
["Machamp"] = 7660,
["Bellsprout"] = 7661,
["Weepinbell"] = 7662,
["Victreebel"] = 7663,
["Tentacool"] = 7664,
["Tentacruel"] = 7665,
["Geodude"] = 7666,
["Graveler"] = 7667,
["Golem"] = 7668,
["Ponyta"] = 7669,
["Rapidash"] = 7670,
["Slowpoke"] = 7671,
["Slowbro"] = 7672,
["Magnemite"] = 7673,
["Magneton"] = 7674,
["Farfetchd"] = 7675,
["Doduo"] = 7676,
["Dodrio"] = 7677,
["Seel"] = 7678,
["Dewgong"] = 7679,
["Grimer"] = 7680,
["Muk"] = 7681,
["Shellder"] = 7682,
["Cloyster"] = 7683,
["Gastly"] = 7684,
["Haunter"] = 7685,
["Gengar"] = 7686,
["Onix"] = 7687,
["Drowzee"] = 7688,
["Hypno"] = 7689,
["Krabby"] = 7690,
["Kingler"] = 7691,
["Voltorb"] = 7692,
["Electrode"] = 7693,
["Exeggcute"] = 7694,
["Exeggutor"] = 7695,
["Cubone"] = 7696,
["Marowak"] = 7697,
["Hitmonlee"] = 7698,
["Hitmonchan"] = 7699,
["Lickitung"] = 7700,
["Koffing"] = 7701,
["Weezing"] = 7702,
["Rhyhorn"] = 7703,
["Rhydon"] = 7704,
["Chansey"] = 7705,
["Tangela"] = 7706,
["Kangaskhan"] = 7707,
["Horsea"] = 7708,
["Seadra"] = 7709,
["Goldeen"] = 7710,
["Seaking"] = 7711,
["Staryu"] = 7712,
["Starmie"] = 7713,
["Mr.mime"] = 7714,
["Scyther"] = 7715,
["Jynx"] = 7716,
["Electabuzz"] = 7717,
["Magmar"] = 7718,
["Pinsir"] = 7719,
["Tauros"] = 7720,
["Magikarp"] = 7721,
["Gyarados"] = 7722,
["Lapras"] = 7723,
["Ditto"] = 7724,
["Eevee"] = 7725,
["Vaporeon"] = 7726,
["Jolteon"] = 7727,
["Flareon"] = 7728,
["Porygon"] = 7729,
["Omanyte"] = 7730,
["Omastar"] = 7731,
["Kabuto"] = 7732,
["Kabutops"] = 7733,
["Aerodactyl"] = 7734,
["Snorlax"] = 7735,
["Articuno"] = 7736,
["Zapdos"] = 7737,
["Moltres"] = 7738,
["Dratini"] = 7739,
["Dragonair"] = 7740,
["Dragonite"] = 7741,
["Mewtwo"] = 7742,
["Mew"] = 7743,


["Shiny Bulbasaur"] = 7593,
["Shiny Ivysaur"] = 7594,
["Shiny Venusaur"] = 7595,
["Shiny Charmander"] = 7596,
["Shiny Charmeleon"] = 7597,
["Elder Charizard"] = 7598,
["Shiny Squirtle"] = 7599,
["Shiny Wartortle"] = 7600,
["Shiny Blastoise"] = 7601,
["Shiny Caterpie"] = 7602,
["Shiny Metapod"] = 7603,
["Shiny Butterfree"] = 7604,
["Shiny Weedle"] = 7605,
["Shiny Kakuna"] = 7606,
["Shiny Beedrill"] = 7607,
["Shiny Pidgey"] = 7608,
["Shiny Pidgeotto"] = 7609,
["Shiny Pidgeot"] = 7610,
["Shiny Rattata"] = 7611,
["Shiny Raticate"] = 7612,
["Shiny Spearow"] = 7613,
["Shiny Fearow"] = 7614,
["Shiny Ekans"] = 7615,
["Shiny Arbok"] = 7616,
["Shiny Pikachu"] = 7617,
["Shiny Raichu"] = 7618,
["Shiny Sandshrew"] = 7619,
["Shiny Sandslash"] = 7620,
["Shiny Nidoran Female"] = 7621,
["Shiny Nidorina"] = 7622,
["Shiny Nidoqueen"] = 7623,
["Shiny Nidoran Male"] = 7624,
["Shiny Nidorino"] = 7625,
["Shiny Nidoking"] = 7626,
["Shiny Shiny Clefairy"] = 7627,
["Shiny Clefable"] = 7628,
["Shiny Vulpix"] = 7629,
["Shiny Ninetales"] = 7630,
["Shiny Jigglypuff"] = 7631,
["Shiny Wigglytuff"] = 7632,
["Shiny Zubat"] = 7633,
["Shiny Golbat"] = 7634,
["Shiny Oddish"] = 7635,
["Shiny Gloom"] = 7636,
["Shiny Vileplume"] = 7637,
["Shiny Paras"] = 7638,
["Shiny Parasect"] = 7639,
["Shiny Venonat"] = 7640,
["Shiny Venomoth"] = 7641,
["Shiny Diglett"] = 7642,
["Shiny Dugtrio"] = 7643,
["Shiny Meowth"] = 7644,
["Shiny Persian"] = 7645,
["Shiny Psyduck"] = 7646,
["Shiny Golduck"] = 7647,
["Shiny Mankey"] = 7648,
["Shiny Primeape"] = 7649,
["Shiny Growlithe"] = 7650,
["Shiny Arcanine"] = 7651,
["Shiny Poliwag"] = 7652,
["Shiny Poliwhirl"] = 7653,
["Shiny Poliwrath"] = 7654,
["Dark Abra"] = 7655,
["Dark Kadabra"] = 7656,
["Dark Alakazam"] = 7657,
["Shiny Machop"] = 7658,
["Shiny Machoke"] = 7659,
["Shiny Machamp"] = 7660,
["Shiny Bellsprout"] = 7661,
["Shiny Weepinbell"] = 7662,
["Shiny Victreebel"] = 7663,
["Shiny Tentacool"] = 7664,
["Shiny Tentacruel"] = 7665,
["Shiny Geodude"] = 7666,
["Shiny Graveler"] = 7667,
["Shiny Golem"] = 7668,
["Shiny Ponyta"] = 7669,
["Shiny Rapidash"] = 7670,
["Shiny Slowpoke"] = 7671,
["Shiny Slowbro"] = 7672,
["Shiny Magnemite"] = 7673,
["Shiny Magneton"] = 7674,
["Shiny Farfetchd"] = 7675,
["Shiny Doduo"] = 7676,
["Shiny Dodrio"] = 7677,
["Shiny Seel"] = 7678,
["Shiny Dewgong"] = 7679,
["Shiny Grimer"] = 7680,
["Shiny Muk"] = 7681,
["Shiny Shellder"] = 7682,
["Shiny Cloyster"] = 7683,
["Shiny Gastly"] = 7684,
["Shiny Haunter"] = 7685,
["Shiny Gengar"] = 7686,
["Crystal Onix"] = 7687,
["Shiny Drowzee"] = 7688,
["Shiny Hypno"] = 7689,
["Shiny Krabby"] = 7690,
["Shiny Kingler"] = 7691,
["Shiny Voltorb"] = 7692,
["Shiny Electrode"] = 7693,
["Shiny Exeggcute"] = 7694,
["Shiny Exeggutor"] = 7695,
["Shiny Cubone"] = 7696,
["Shiny Marowak"] = 7697,
["Elite Hitmonlee"] = 7698,
["Elite Hitmonchan"] = 7699,
["Shiny Lickitung"] = 7700,
["Shiny Koffing"] = 7701,
["Shiny Weezing"] = 7702,
["Shiny Rhyhorn"] = 7703,
["Shiny Rhydon"] = 7704,
["Shiny Chansey"] = 7705,
["Shiny Tangela"] = 7706,
["Shiny Kangaskhan"] = 7707,
["Shiny Horsea"] = 7708,
["Shiny Seadra"] = 7709,
["Shiny Goldeen"] = 7710,
["Shiny Seaking"] = 7711,
["Shiny Staryu"] = 7712,
["Shiny Starmie"] = 7713,
["Shiny Mr.mime"] = 7714,
["Shiny Scyther"] = 7715,
["Shiny Jynx"] = 7716,
["Shiny Electabuzz"] = 7717,
["Shiny Magmar"] = 7718,
["Shiny Pinsir"] = 7719,
["Shiny Tauros"] = 7720,
["Shiny Magikarp"] = 7721,
["Red Gyarados"] = 7722,
["Shiny Lapras"] = 7723,
["Shiny Ditto"] = 7724,
["Shiny Eevee"] = 7725,
["Shiny Vaporeon"] = 7726,
["Shiny Jolteon"] = 7727,
["Shiny Flareon"] = 7728,
["Shiny Porygon"] = 7729,
["Shiny Omanyte"] = 7730,
["Shiny Omastar"] = 7731,
["Shiny Kabuto"] = 7732,
["Shiny Kabutops"] = 7733,
["Shiny Aerodactyl"] = 7734,
["Shiny Snorlax"] = 7735,
["Shiny Articuno"] = 7736,
["Shiny Zapdos"] = 7737,
["Shiny Moltres"] = 7738,
["Shiny Dratini"] = 7739,
["Shiny Dragonair"] = 7740,
["Shiny Dragonite"] = 7741,
["Shiny Mewtwo"] = 7742,
["Shiny Mew"] = 7743,
}

function getNewMoveTable(table, n)
if table == nil or not n then return false end

local moves = {table.move1, table.move2, table.move3, table.move4, table.move5, table.move6, table.move7, table.move8, table.move9,
table.move10, table.move11, table.move12, table.tmove1, table.tmove2, table.tmove3}

return moves[n] or false
end

function doUpdateCds(cid)
local ball = getPlayerSlotItem(cid, 8).uid
    if ball then
        for i = 1, 12 do
            local cd = 'move'..i
	        local move = getCD(ball, cd)
			local summon = getCreatureSummons(cid)[1]
			if isTransformed(summon) and getCreatureName(summon) == "Ditto"then  --alterado v2.9
				moves = PokeMoves[getPlayerStorageValue(summon, 1010)]
			else                                                       
				moves = PokeMoves[getCreatureName(summon)]
			end
			local c = getNewMoveTable(moves, i)
			if c then
				name = c.spell
				level = c.minLv
			else
			    name = "n/n"
				level = 0
			end
	        doPlayerSendCancel(cid, "@M|"..i.."|"..move.."|"..name.."|"..level)
			doPlayerSendCancel(cid, nil)
        end
    else
	   doPlayerSendCancel(cid, "coloque a ball no slot correto")
	end 
return 0
end

function doUpdatePokemons(cid)
if not isCreature(cid) then return true end
local balls = getPlayerPokeballs(cid)
ret = {}
order = 0
table.insert(ret, '@P')
    for i = 1, #balls do 
        item = balls[i]
		local pokeballInfo = getPokeballInfo(item.uid)
		local poke = pokeballInfo.name
		local hp = math.ceil((getItemAttribute(item.uid, "php") or 1)*100)
		local nick = pokeballInfo.nick
		local boost = pokeballInfo.boost
		local o = i
		local datid = 0
		if portrait[pokeballInfo.name] then
			datid = portrait[pokeballInfo.name]
		else
			datid = 7746
		end
		doItemSetAttribute(item.uid, "order", o)
		table.insert(ret, "|"..poke..","..hp..","..nick..","..datid..","..o)
    end
doPlayerSendCancel(cid, table.concat(ret))
doPlayerSendCancel(cid, nil)
end

function doUpdateStatusPoke(cid)
if not isCreature(cid) then return true end
local summon = getCreatureSummons(cid)
ret = {}
table.insert(ret, '#ph#')
	if #summon >= 1 then
		pokename = getPokeballInfo(getPlayerSlotItem(cid, 8).uid).name
		health = getCreatureHealth(summon[1])
		maxhealth = getCreatureMaxHealth(summon[1])
		boost =  getPokeballInfo(getPlayerSlotItem(cid, 8).uid).boost
	else
		if (getPokeballInfo(getPlayerSlotItem(cid, 8).uid).name == nil) then
			pokename = 'pokemon'
			health = 0
			maxhealth = 0
			boost = 0
		else
			pokename = getPokeballInfo(getPlayerSlotItem(cid, 8).uid).name
			health = getPokeballInfo(getPlayerSlotItem(cid, 8).uid).hp
			maxhealth = getPokeballInfo(getPlayerSlotItem(cid, 8).uid).maxhp
			boost = getPokeballInfo(getPlayerSlotItem(cid, 8).uid).boost
		end
	end
table.insert(ret, ","..pokename..","..boost..","..health..","..maxhealth)
doPlayerSendCancel(cid, table.concat(ret))
doPlayerSendCancel(cid, nil)
end